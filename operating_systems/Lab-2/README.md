# Лабораторная работа №2. *Мониторинг процессов и ресурсов в ОС Linux*

[Файл с полным ТЗ+Теория](OS_LabDescription_2.pdf)

## Задание на лабораторную работу

1. Создайте свой каталог в директории `/home/user/`. Все скрипты и файлы для вывода результатов создавайте внутри этого каталога или его подкаталогов. (`mkdir lab2`)

2. Напишите скрипты, решающие следующие задачи:

    1. **Посчитать количество процессов, запущенных пользователем user**, и вывести в файл получившееся число, а затем пары `PID:команда` для таких процессов.

    2. Вывести в файл список **PID всех процессов**, которые были запущены командами, расположенными в `/sbin/`.

    3. Вывести на экран **PID процесса, запущенного последним** (с последним временем запуска).

    4. Для всех зарегистрированных в данный момент в системе процессов определить **среднее время непрерывного использования процессора (*CPU_burst*)** и вывести в один файл строки:

       ```
       ProcessID=PID : Parent_ProcessID=PPID : Average_Running_Time=ART
       ```

       Значения `PPID` взять из файлов `status` в директориях `/proc/PID/`.  
       Значения `ART` получить, разделив `sum_exec_runtime` на `nr_switches` из файлов `sched`.  
       **Отсортировать строки по идентификаторам родительских процессов.**

    5. В файле, полученном на предыдущем шаге, после каждой группы записей с одинаковым значением PPID вставить строку:

       ```
       Average_Running_Children_of_ParentID=N is M
       ```

       где **N = PPID**, а **M** – среднее ART для всех процессов этого родителя.

    6. Используя `/proc`, найти процесс, которому выделено **больше всего оперативной памяти**. Сравнить результат с выводом `top`.

    7. Написать скрипт, определяющий **три процесса**, которые за одну минуту с момента запуска скрипта считали **максимальное количество байт** из устройства хранения данных. Скрипт должен выводить **PID**, строку запуска и объем считанных данных, разделённых двоеточием.

3. Предъявите скрипты преподавателю и получите вопрос или задание для защиты лабораторной работы.
