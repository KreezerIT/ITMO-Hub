# Лабораторная работа №5. *Маршрутизация в IP сетях*

[Файл с полным ТЗ+Теория](Net_LabDescription_5.pdf)

## Цель работы
Получить представление о работе IP-маршрутизатора, приобрести практический опыт составления таблиц маршрутизации, а также изучить принципы работы протоколов внутренней и внешней маршрутизации.

## Требования
Для выполнения работы требуется установленная среда моделирования **Cisco Packet Tracer**.

---

## Краткие теоретические сведения
Маршрутизаторы предназначены для выбора оптимального пути следования IP-пакетов на основе таблиц маршрутизации. Таблица маршрутизации содержит записи о сетях назначения, интерфейсах выхода, шлюзах и метриках маршрутов.

Таблицы маршрутизации могут формироваться:
- вручную (статическая маршрутизация);
- автоматически с помощью протоколов динамической маршрутизации, таких как **RIP v2**.

Протоколы внутренней маршрутизации применяются внутри автономных систем (AS). Для обмена маршрутной информацией между автономными системами используется протокол **BGP**.

---

## Часть 1. Настройка инфраструктуры

1. Реализовать схему сети, приведенную в задании, в среде Cisco Packet Tracer.
2. Учесть, что сеть №3 является одной локальной сетью, в которой маршрутизаторы соединяются через коммутатор.
3. Разместить по одному компьютеру в сетях №1, №4 и №5.
4. Использовать следующее оборудование:
    - коммутатор Cisco 2960-24TT — 1 шт;
    - маршрутизатор Router-PT — 4 шт;
    - компьютеры — 3 шт;
    - коммуникационные модули и кабели — по необходимости.
5. Для всех сетей выбрать подсети из диапазона **192.168.0.0/24**.
6. Проверить доступность ближайших соседей в локальных сетях.

---

## Часть 2. Настройка статической маршрутизации

1. Настроить статическую маршрутизацию между всеми сетями.
2. Проверить возможность передачи пакетов данных между всеми узлами модели.
3. Вывести и сохранить таблицы маршрутизации всех маршрутизаторов.

---

## Часть 3. Настройка динамической маршрутизации

1. В том же файле модели создать копию сети.
2. Для всех сетей выбрать подсети из диапазона **192.168.1.0/24**.
3. Проверить доступность ближайших соседей в локальных сетях.
4. Настроить протокол **RIP v2** на всех маршрутизаторах так, чтобы:
    - маршруты не объединялись автоматически;
    - рассылка таблиц маршрутизации выполнялась только через интерфейсы, подключенные к другим маршрутизаторам.
5. Включить вывод отладочных сообщений.
6. Убедиться в получении всей необходимой информации.
7. Проверить связность между всеми узлами.
8. Вывести и сохранить таблицы маршрутизации всех маршрутизаторов.

---

## Часть 4. Создание дополнительных сетей

1. В том же файле модели создать две дополнительные сети, каждая из одного маршрутизатора и одного компьютера.
2. Назначить адреса сетей:
    - 192.168.2.0/24
    - 192.168.3.0/24

---

## Часть 5. Объединение сетей

1. Рассматривать созданные сети как автономные системы и использовать следующие номера AS:
    - 192.168.0.0/24 — AS 100
    - 192.168.1.0/24 — AS 101
    - 192.168.2.0/24 — AS 102
    - 192.168.3.0/24 — AS 103
2. Соединить автономные системы согласно схеме задания, используя отдельные подсети из диапазона **10.0.0.0/16**.
3. Настроить edge-маршрутизаторы и создать пиринги BGP со всеми автономными системами.
4. Убедиться в обновлении маршрутов, анализируя таблицы маршрутизации.
5. Внутри AS 100 настроить маршрут по умолчанию на внутренний адрес edge-маршрутизатора.
6. В AS 101 распространить маршрут по умолчанию с помощью команды `default-information originate`.
7. Выполнить трассировку маршрутов между узлами различных автономных систем.
8. Отключить линию между AS 100 и AS 102, повторить трассировку и сравнить результаты.

---

## Требования к отчету
Отчет оформляется в формате DOC/DOCX или PDF и должен включать:
- команды настройки маршрутизаторов из частей 2 и 3;
- команды настройки BGP из части 5;
- итоговые таблицы маршрутизации;
- вывод информации о BGP-соседях на edge-маршрутизаторе AS 100.
