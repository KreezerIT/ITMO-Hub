# Лабораторная работа №1. *Консольные утилиты настройки сетевых компонентов Linux*

[Файл с полным ТЗ+Теория](Net_LabDescription_1.pdf)

## Цель работы
Получить практические навыки конфигурирования сетевых интерфейсов (на примере протокола IPv4) в операционных системах Linux, ознакомиться с консольными утилитами настройки сети и изучить современные сетевые менеджеры Linux.

## Необходимое программное обеспечение
- Среда виртуализации Oracle VirtualBox
- Две виртуальные машины:
    - Linux CentOS
    - Linux Debian

## Используемые конфигурации сети
1. **Статическая адресация**
    - IP-адрес: 10.100.0.2
    - Маска подсети: 255.255.255.0
    - Шлюз по умолчанию: 10.100.0.1
    - DNS-сервер: 8.8.8.8

2. **Динамическая адресация**
    - Все параметры сети получаются автоматически с DHCP-сервера

---

## Часть 1. Работа с сетевыми интерфейсами Linux (CentOS или Debian)

1. Запустить виртуальную машину и выполнить вход в систему под учетной записью администратора.
2. Создать скрипт, позволяющий пользователю:
    - определить модель сетевой карты, канальную скорость, режим работы (Full или Half Duplex), наличие физического подключения, MAC-адрес;
    - получить информацию о текущей конфигурации IPv4 (IP-адрес, маска, шлюз, DNS);
    - настроить сетевой интерфейс по сценарию №1 (статическая адресация);
    - настроить сетевой интерфейс по сценарию №2 (динамическая адресация);
    - завершить работу скрипта.
3. Скрипт не должен вносить изменения в системные конфигурационные файлы и не должен использовать сетевые менеджеры.

---

## Часть 2. Работа с виртуальными интерфейсами Linux CentOS через NetworkManager

1. Настроить сетевой адаптер виртуальной машины в VirtualBox в режим «Внутренняя сеть».
2. С использованием консольной утилиты nmcli:
    - настроить сетевой интерфейс по сценарию №1;
    - создать виртуальный сетевой интерфейс с именем br0 и IP-адресом 10.100.0.3;
    - активировать виртуальный интерфейс.
3. Проверить связь между реальным и виртуальным интерфейсами с помощью утилиты ping.
4. Определить MAC-адрес виртуального интерфейса.

---

## Часть 3. Работа с реальными интерфейсами Linux Debian 11 через netplan

1. Убедиться, что на виртуальной машине установлен пакет netplan.
2. Настроить сетевой адаптер VirtualBox в режим «Внутренняя сеть» (та же сеть, что и в части 2).
3. Отредактировать YAML-файл конфигурации netplan таким образом, чтобы:
    - сетевой интерфейс имел два IP-адреса: 10.100.0.4 и 10.100.0.5;
    - маска подсети была 255.255.255.0;
    - шлюз по умолчанию — 10.100.0.3.
4. Проверить связность адресов 10.100.0.2–10.100.0.5 с помощью утилиты ping.
5. Вывести таблицу ARP-кэша и найти в ней записи обо всех указанных IP-адресах.

---

## Часть 4. Настройка объединения сетевых интерфейсов (bonding)

1. Выключить виртуальную машину, создать снапшот и добавить второй сетевой интерфейс.  
   Оба интерфейса перевести в режим NAT (или «Сетевой мост» при наличии DHCP).
2. Проверить загрузку модуля bonding. При необходимости загрузить его вручную.
3. Настроить объединение сетевых интерфейсов так, чтобы:
    - сетевые карты чередовались при передаче пакетов;
    - виртуальный интерфейс группы имел имя bond007;
    - интерфейс bond007 получал конфигурацию IPv4 автоматически.
4. Активировать интерфейс bond007 и вывести IP- и MAC-адреса всех интерфейсов.
5. Просмотреть содержимое файла /proc/net/bonding/bond007.
6. Во второй консоли просмотреть содержимое файла /proc/net/dev.
7. Написать скрипт, выводящий:
    - текущее время;
    - имя интерфейса;
    - количество принятых и переданных пакетов.
8. Запустить команду ping -I bond007 8.8.8.8.
9. С помощью созданного скрипта трижды собрать статистические данные и проанализировать результаты.

---

## Требования к отчету
Отчет должен быть подготовлен в формате DOC/DOCX или PDF и содержать:
- титульный лист;
- артефакты выполнения заданий;
- ответы на контрольные вопросы.
